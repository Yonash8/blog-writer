# API Keys
PROMPTLAYER_API_KEY=your_promptlayer_api_key
# Used for: master agent, deep research (o3-deep-research), image placement, article improvement
OPENAI_API_KEY=your_openai_api_key
# Anthropic Claude - main agent brain (required)
ANTHROPIC_API_KEY=your_anthropic_api_key
# Agent model (default: claude-sonnet-4-5). Options: claude-sonnet-4-5, claude-3-5-sonnet-20241022, etc.
# AGENT_MODEL=claude-sonnet-4-5
# Agent conversation context: how many prior messages to include (default: 50)
# AGENT_HISTORY_LIMIT=50
# Google API key from https://aistudio.google.com/apikey
# Used for: Imagen 3.0 (generic images), Gemini 2.5 Flash Image (hero images + infographics with style refs)
GOOGLE_API_KEY=your_google_api_key
# For create_google_doc: path to service account JSON (enable Docs API + Drive API in GCP)
# GOOGLE_APPLICATION_CREDENTIALS=secrets/your-key.json
# Optional: folder ID in YOUR Drive, shared with the service account (fixes "storage quota exceeded")
# GOOGLE_DOCS_FOLDER_ID=your_folder_id_from_url
# Fallback for deep research when OpenAI o3-deep-research fails (e.g. org not verified)
PERPLEXITY_API_KEY=your_perplexity_api_key
# Save last deep research output to file for inspection. Default: last_deep_research.md. Set empty to disable.
# DEEP_RESEARCH_SAVE_PATH=last_deep_research.md
TAVILY_API_KEY=your_tavily_api_key

# Supabase (from Dashboard -> Project Settings -> API)
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
# Use service_role key for backend - bypasses RLS, allows writes. Keep secret!
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key
# Or anon key (limited by RLS - may block writes)
# SUPABASE_KEY=your_anon_key

# PromptLayer workflow name (your SEO agent)
PROMPTLAYER_WORKFLOW_NAME=seo agent
# PromptLayer workflow name for the master orchestrator system prompt (default: blog_writer_master_system_core)
# PROMPTLAYER_ORCHESTRATOR_WORKFLOW=blog_writer_master_system_core
# Optional: exact node name that outputs the article (e.g. "Write Article"). Skips "Research Agent" by default.
# PROMPTLAYER_OUTPUT_NODE=Write Article
# Max tokens for llm_deep_research variable. Model limit is often 128k; use 30k if workflow duplicates research. Default: 30000.
# PROMPTLAYER_RESEARCH_MAX_TOKENS=30000

# LangGraph checkpointer: "sqlite" (default, persistent) or "memory" (dev only, lost on reload)
# LANGGRAPH_CHECKPOINTER=sqlite
# LANGGRAPH_SQLITE_PATH=langgraph.db

# CRM closed-loop communication (Crew Resource Management)
# Send progress as WhatsApp messages during long runs (default: false)
# CRM_SEND_PROGRESS_MESSAGES=false
# Throttle progress messages to at most one per N seconds
# CRM_PROGRESS_THROTTLE_SEC=45

# Observability
# OBSERVABILITY_LEVEL=default
# minimal | default | verbose | debug
# OBSERVABILITY_SAVE_PROMPTS=false
# When true, store full prompts/responses (dev only)

# Narrator Agent — optional LLM that summarizes each workflow run in plain English.
# Uses gpt-4o-mini (~$0.0002 per narration). Set to true to enable.
# NARRATOR_AGENT_ENABLED=false

# Green API (WhatsApp) - from console.green-api.com
GREEN_API_INSTANCE_ID=your_instance_id
GREEN_API_TOKEN=your_api_token
GREEN_API_BASE_URL=https://api.green-api.com
# Your WhatsApp chat ID (format: countrycode+number@c.us). Only this number can trigger the agent.
WHATSAPP_ALLOWED_CHAT_ID=972xxxxxxxxx@c.us

# Web API protection - set a secret key; all /api/* and /admin/* require X-API-Key header.
# Leave unset to disable (local dev). Generate with: openssl rand -hex 32
WEB_API_KEY=your-secret-key-here

# Ghost CMS - from Ghost Admin → Settings → Integrations → Custom Integrations
GHOST_ADMIN_URL=https://your-blog.ghost.io
GHOST_ADMIN_API_KEY=your_key_id:your_key_secret
GHOST_AUTHOR_EMAIL=your@email.com
